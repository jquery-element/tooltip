<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<title>jquery-element: tooltip</title>
<style>
	body {
		background: #222;
		font: 12px sans-serif;
		color: #ddd;
	}
	.abs {
		position: absolute;
	}
	.rect {
		background: #f33;
		opacity: .8;
	}
	.rect:hover {
		z-index: 1;
		opacity: 1;
	}

	.directions {
		position: absolute;
		text-align: center;
	}
	.directions > div {
		display: inline-block;
		margin: 10px;
		width: 50px;
		padding: 10px;
		font-weight: bold;
		border-radius: 4px;
		background: #ddf;
		color: #222;
		cursor: default;
	}

</style>
<script src="//code.jquery.com/jquery-3.0.0-alpha1.min.js"></script>
<script src="../jquery-element/jquery-element.js"></script>
<script src="tooltip.js"></script>
</head>	
<body>

<div class="directions" style="right: 250px; top: 40px;">
	<code>data-<b>tooltip-followmouse</b>="<b>false</b>"</code><br/>
	<div
		data-jquery-element="tooltip"
		data-tooltip-content="Top"
	>Top</div
	><div
		data-jquery-element="tooltip"
		data-tooltip-side="right"
		data-tooltip-content="Right"
	>Right</div>
	<br/>
	<div
		data-jquery-element="tooltip"
		data-tooltip-side="left"
		data-tooltip-content="Left"
	>Left</div
	><div
		data-jquery-element="tooltip"
		data-tooltip-side="bottom"
		data-tooltip-content="Bottom"
	>Bottom</div>
</div>

<div class="directions" style="right: 250px; top: 200px;">
	<code>data-<b>tooltip-followmouse</b>="<b>true</b>"</code><br/>
	<div
		data-jquery-element="tooltip"
		data-tooltip-followmouse="true"
	>Top</div
	><div
		data-jquery-element="tooltip"
		data-tooltip-side="right"
		data-tooltip-followmouse="true"
		data-tooltip-content="Right"
	>Right</div>
	<br/>
	<div
		data-jquery-element="tooltip"
		data-tooltip-side="left"
		data-tooltip-followmouse="true"
		data-tooltip-content="Left"
	>Left</div
	><div
		data-jquery-element="tooltip"
		data-tooltip-side="bottom"
		data-tooltip-followmouse="true"
		data-tooltip-content="Bottom"
	>Bottom</div>
</div>

<div
	class="abs rect"
	style="width: 20px; left: 200px; top: 0; bottom: 0;"
	data-jquery-element="tooltip"
	data-tooltip-side="right"
	data-tooltip-followmouse="true"
></div>

<span class="abs" style="right: 10px; bottom: 166px;">
	Move your mouse here to see the little<br/>
	arrow acting on the edge of the window.
</span>

<div
	class="abs rect"
	style="height: 20px; left: 0; right: 0; bottom: 200px;"
	data-jquery-element="tooltip"
	data-tooltip-side="top"
	data-tooltip-followmouse="true"
></div>

<script>

function lg( s ) { console.log( s ); }

var
	jqRect = $( ".abs.rect" )
;

jqRect.mousemove( function( e ) {
	e = e.originalEvent;
	this.dataset[ "tooltipContent" ] =
		"Content dynamique&nbsp;:<br/>" +
		"e.offsetX:<b>" + e.offsetX + "</b> e.offsetY:<b>" + e.offsetY + "</b><br/>&nbsp;"
	;
});

jqRect.each( function() {
	this._numberCount = 0;
});

setInterval( function() {
	jqRect.each( function() {
		++this._numberCount;
		if ( this.dataset[ "tooltipContent" ] ) {
			var
				c = this.dataset[ "tooltipContent" ],
				i = c.lastIndexOf( "<br/>" ) + "<br/>".length
			;
			this.dataset[ "tooltipContent" ] =
				c.substr( 0, i ) + this._numberCount;
		}
	});
}, 10 );

</script>

</body>
</html>
